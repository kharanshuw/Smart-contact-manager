<!DOCTYPE html>
<html class="light" lang="en">

<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Login </title>

    <!-- flowbite css -->
    <link href="https://cdn.jsdelivr.net/npm/flowbite@3.1.2/dist/flowbite.min.css" rel="stylesheet"/>

    <!-- font awasome -->

    <link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
          integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
          referrerpolicy="no-referrer" rel="stylesheet"/>

    <!-- custom css -->
    <link data-th-href="@{'/output.css'}" rel="stylesheet">

    <link data-th-href="@{'/custom.css'}" rel="stylesheet">

</head>

<body class="bg-white dark:bg-gray-900">

<!-- logout form hidden -->
<form data-th-action="@{/logout}" id="logout-form" method="post" th:hidden="true">
    <input hidden type="submit" value="log out"/>
</form>


<!-- user navbar only after login -->
<div th:if="${user}">
    <div data-th-replace="~{user/user_navbar :: user-navbar}">

    </div>
</div>

<!-- normal navbar for guest who are not logged in  -->
<div th:unless="${user}">
    <div data-th-replace="~{navbar :: navbar}">

    </div>
</div>


<!-- form  start -->
<div class="flex flex-row flex-wrap justify-center  align-middle mt-30">

    <div
            class=" border-b-[10px] border-t-[10px] border-blue-800 block w-1/2 p-6 bg-white   rounded-lg shadow-sm  dark:bg-gray-800 dark:border-blue-700 ">

        <h5 class="mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white">Login Here</h5>
        <p class="font-normal text-gray-500 dark:text-gray-400">
            Unlock Effortless Contact Management
        </p>


        <!-- message box -->
        <div data-th-replace="~{message :: messagebox}">

        </div>
        <!-- message box -->


        <!-- error message -->

        <div class="text-red-600 text-center my-3" th:if="${param.error}">
            Invalid username and password.
        </div>
        <div class="text-green-600 text-center my-3" th:if="${param.logout}">
            You have been logged out.
        </div>


        <!-- form start -->
        <form data-th-action="@{'/authenticate'}" method="post">


            <div class="mb-4">


                <!-- email  -->


                <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white"
                       for="email">Email</label>
                <input class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" id="email" name="email" placeholder="Enter your email Here"
                       type="email">


                <!-- email -->

                <!-- validation -->
                <!-- <p data-th-if="${#fields.hasErrors('email')}" data-th-errors="*{email}" class="text-red-600">
                    name is required
                </p> -->

            </div>

            <!-- password -->
            <div class="mb-4">


                <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white"
                       for="password">Password</label>


                <input class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" id="password" name="password" placeholder="Enter your Password Here"
                       type="password">

                <!-- validation -->
                <!-- <p data-th-if="${#fields.hasErrors('password')}" data-th-errors="*{password}" class="text-red-600">
                    name is required
                </p> -->


            </div>
            <!-- password -->


            <!-- login button and reset  -->

            <div class="mb-3 flex justify-center ">
                <button class="me-5 text-white bg-blue-700 hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 font-medium rounded-full text-sm px-5 py-2.5 text-center  mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
                        type="submit">
                    Login
                </button>


                <button class="text-white bg-red-700 hover:bg-red-800 focus:outline-none focus:ring-4 focus:ring-red-300 font-medium rounded-full text-sm px-5 py-2.5 text-center me-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900"
                        type="reset">
                    Reset
                </button>


            </div>
            <!-- login button end -->


        </form>
        <!-- form end -->

    </div>
</div>
<!-- form end -->


<!-- login with button start -->
<div class="flex flex-col w-full">


    <!-- login with google button  -->
    <div class="flex justify-center">
        <div
                class="inline-flex justify-center align-middle mt-4 border border-gray-300 text-gray-900 bg-white  focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-100 font-medium rounded-full text-sm px-5 py-2.5 me-2 mb-2 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700 ">
            <img alt="logo" class="h-7 flex justify-center align-middle"
                 data-th-src="@{'/images/icons8-google.svg'}">
            <a class="flex mt-1 ms-1 font-semibold" data-th-href="@{'/oauth2/authorization/google'}">Login
                with google</a>
        </div>

    </div>
    <!-- login with google  -->


    <!-- login with github start -->

    <div class="flex justify-center ">
        <div
                class="flex flex-row text-gray-900 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-100 font-medium rounded-full text-sm px-5 py-2.5 me-2 mb-2 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700">

            <img alt="logo" class="h-7" data-th-src="@{'images/github-sign.png'}">

            <a class="flex mt-1 ms-1.5 font-semibold" data-th-href="@{'/oauth2/authorization/github'}">
                Login with github
            </a>

        </div>
    </div>


    <!-- login with github end -->


</div>
<!-- login with button end -->


<!-- custom script for theme switcher -->
<script data-th-src="@{'/js/script.js'}">

</script>


<script>
    function logout() {
        document.getElementById("logout-form").submit();
    }
</script>

</body>

</html>